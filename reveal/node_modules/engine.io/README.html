
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Engine.IO: the realtime engine &#8212; INF 133 Fall 2023</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/logo_stacked.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">INF 133 Fall 2023</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    User Interaction Software
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Assignments
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a0.html">
   Assignment 0
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a1.html">
   Assignment 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a2.html">
   Assignment 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a3.html">
   Assignment 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a4.html">
   Assignment 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a5.html">
   Assignment 5
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Weekly Notes
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk1.html">
   Week 1 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk2.html">
   Week 2 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk3.html">
   Week 3 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk4.html">
   Week 4 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk5.html">
   Week 5 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk6.html">
   Week 6 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk7.html">
   Week 7 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk8.html">
   Week 8 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk9.html">
   Week 9 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk10.html">
   Week 10 Notes
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Course Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../resources.html">
   Resources
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/reveal/node_modules/engine.io/README.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-use">
   How to use
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#server">
     Server
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-listening-on-a-port">
       (A) Listening on a port
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#b-intercepting-requests-for-a-http-server">
       (B) Intercepting requests for a http.Server
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#c-passing-in-requests">
       (C) Passing in requests
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#client">
     Client
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-features-does-it-have">
   What features does it have?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api">
   API
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Server
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#top-level">
       Top-level
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#events">
         Events
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#properties">
         Properties
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#methods">
         Methods
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       Server
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id3">
         Events
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id4">
         Properties
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id5">
         Methods
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#socket">
       Socket
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id6">
         Events
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id7">
         Properties
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id8">
         Methods
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     Client
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#debug-logging">
   Debug / logging
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#transports">
   Transports
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plugins">
   Plugins
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#support">
   Support
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#development">
   Development
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tests">
   Tests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#goals">
   Goals
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#architecture">
   Architecture
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#faq">
   FAQ
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-i-use-engine-without-socket-io">
     Can I use engine without Socket.IO ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#does-the-server-serve-the-client">
     Does the server serve the client?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-i-implement-engine-in-other-languages">
     Can I implement
     <code class="docutils literal notranslate">
      <span class="pre">
       Engine
      </span>
     </code>
     in other languages?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#license">
   License
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Engine.IO: the realtime engine</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-use">
   How to use
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#server">
     Server
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-listening-on-a-port">
       (A) Listening on a port
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#b-intercepting-requests-for-a-http-server">
       (B) Intercepting requests for a http.Server
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#c-passing-in-requests">
       (C) Passing in requests
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#client">
     Client
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-features-does-it-have">
   What features does it have?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api">
   API
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Server
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#top-level">
       Top-level
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#events">
         Events
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#properties">
         Properties
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#methods">
         Methods
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       Server
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id3">
         Events
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id4">
         Properties
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id5">
         Methods
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#socket">
       Socket
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id6">
         Events
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id7">
         Properties
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id8">
         Methods
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     Client
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#debug-logging">
   Debug / logging
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#transports">
   Transports
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plugins">
   Plugins
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#support">
   Support
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#development">
   Development
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tests">
   Tests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#goals">
   Goals
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#architecture">
   Architecture
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#faq">
   FAQ
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-i-use-engine-without-socket-io">
     Can I use engine without Socket.IO ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#does-the-server-serve-the-client">
     Does the server serve the client?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#can-i-implement-engine-in-other-languages">
     Can I implement
     <code class="docutils literal notranslate">
      <span class="pre">
       Engine
      </span>
     </code>
     in other languages?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#license">
   License
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="engine-io-the-realtime-engine">
<h1>Engine.IO: the realtime engine<a class="headerlink" href="#engine-io-the-realtime-engine" title="Permalink to this headline">#</a></h1>
<p><a class="reference external" href="http://travis-ci.org/socketio/engine.io"><img alt="Build Status" src="https://travis-ci.org/socketio/engine.io.svg?branch=master" /></a>
<a class="reference external" href="http://badge.fury.io/js/engine.io"><img alt="NPM version" src="https://badge.fury.io/js/engine.io.svg" /></a></p>
<p><code class="docutils literal notranslate"><span class="pre">Engine.IO</span></code> is the implementation of transport-based
cross-browser/cross-device bi-directional communication layer for
<a class="reference external" href="http://github.com/socketio/socket.io">Socket.IO</a>.</p>
<section id="how-to-use">
<h2>How to use<a class="headerlink" href="#how-to-use" title="Permalink to this headline">#</a></h2>
<section id="server">
<h3>Server<a class="headerlink" href="#server" title="Permalink to this headline">#</a></h3>
<section id="a-listening-on-a-port">
<h4>(A) Listening on a port<a class="headerlink" href="#a-listening-on-a-port" title="Permalink to this headline">#</a></h4>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;engine.io&#39;</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mf">80</span><span class="p">);</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;connection&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">socket</span><span class="p">){</span>
<span class="w">  </span><span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;utf 8 string&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="kr">from</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">]));</span><span class="w"> </span><span class="c1">// binary data</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="b-intercepting-requests-for-a-http-server">
<h4>(B) Intercepting requests for a http.Server<a class="headerlink" href="#b-intercepting-requests-for-a-http-server" title="Permalink to this headline">#</a></h4>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;engine.io&#39;</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">http</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">).</span><span class="nx">createServer</span><span class="p">().</span><span class="nx">listen</span><span class="p">(</span><span class="mf">3000</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">http</span><span class="p">);</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;connection&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">socket</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;close&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span><span class="w"> </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="c-passing-in-requests">
<h4>(C) Passing in requests<a class="headerlink" href="#c-passing-in-requests" title="Permalink to this headline">#</a></h4>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;engine.io&#39;</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">Server</span><span class="p">();</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;connection&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">socket</span><span class="p">){</span>
<span class="w">  </span><span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// â€¦</span>
<span class="nx">httpServer</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;upgrade&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">socket</span><span class="p">,</span><span class="w"> </span><span class="nx">head</span><span class="p">){</span>
<span class="w">  </span><span class="nx">server</span><span class="p">.</span><span class="nx">handleUpgrade</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">socket</span><span class="p">,</span><span class="w"> </span><span class="nx">head</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">httpServer</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;request&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">){</span>
<span class="w">  </span><span class="nx">server</span><span class="p">.</span><span class="nx">handleRequest</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
</section>
<section id="client">
<h3>Client<a class="headerlink" href="#client" title="Permalink to this headline">#</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/path/to/engine.io.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">socket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">eio</span><span class="p">.</span><span class="nx">Socket</span><span class="p">(</span><span class="s1">&#39;ws://localhost/&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span>
<span class="w">    </span><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){});</span>
<span class="w">    </span><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;close&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(){});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>For more information on the client refer to the
<a class="reference external" href="http://github.com/learnboost/engine.io-client">engine-client</a> repository.</p>
</section>
</section>
<section id="what-features-does-it-have">
<h2>What features does it have?<a class="headerlink" href="#what-features-does-it-have" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><strong>Maximum reliability</strong>. Connections are established even in the presence of:</p>
<ul>
<li><p>proxies and load balancers.</p></li>
<li><p>personal firewall and antivirus software.</p></li>
<li><p>for more information refer to <strong>Goals</strong> and <strong>Architecture</strong> sections</p></li>
</ul>
</li>
<li><p><strong>Minimal client size</strong> aided by:</p>
<ul>
<li><p>lazy loading of flash transports.</p></li>
<li><p>lack of redundant transports.</p></li>
</ul>
</li>
<li><p><strong>Scalable</strong></p>
<ul>
<li><p>load balancer friendly</p></li>
</ul>
</li>
<li><p><strong>Future proof</strong></p></li>
<li><p><strong>100% Node.JS core style</strong></p>
<ul>
<li><p>No API sugar (left for higher level projects)</p></li>
<li><p>Written in readable vanilla JavaScript</p></li>
</ul>
</li>
</ul>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">#</a></h2>
<section id="id1">
<h3>Server<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h3>
<hr><br>
<section id="top-level">
<h4>Top-level<a class="headerlink" href="#top-level" title="Permalink to this headline">#</a></h4>
<p>These are exposed by <code class="docutils literal notranslate"><span class="pre">require('engine.io')</span></code>:</p>
<section id="events">
<h5>Events<a class="headerlink" href="#events" title="Permalink to this headline">#</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">flush</span></code></p>
<ul>
<li><p>Called when a socket buffer is being flushed.</p></li>
<li><p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Socket</span></code>: socket being flushed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Array</span></code>: write buffer</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">drain</span></code></p>
<ul>
<li><p>Called when a socket buffer is drained</p></li>
<li><p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Socket</span></code>: socket being flushed</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="properties">
<h5>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">#</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">protocol</span></code> <em>(Number)</em>: protocol revision number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Server</span></code>: Server class constructor</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Socket</span></code>: Socket class constructor</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Transport</span></code> <em>(Function)</em>: transport constructor</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transports</span></code> <em>(Object)</em>: map of available transports</p></li>
</ul>
</section>
<section id="methods">
<h5>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">#</a></h5>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">()</span></code></p>
<ul class="simple">
<li><p>Returns a new <code class="docutils literal notranslate"><span class="pre">Server</span></code> instance. If the first argument is an <code class="docutils literal notranslate"><span class="pre">http.Server</span></code> then the
new <code class="docutils literal notranslate"><span class="pre">Server</span></code> instance will be attached to it. Otherwise, the arguments are passed
directly to the <code class="docutils literal notranslate"><span class="pre">Server</span></code> constructor.</p></li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">http.Server</span></code>: optional, server to attach to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: optional, options object (see <code class="docutils literal notranslate"><span class="pre">Server#constructor</span></code> api docs below)</p></li>
</ul>
</li>
</ul>
<p>The following are identical ways to instantiate a server and then attach it.</p>
</li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">httpServer</span><span class="p">;</span><span class="w"> </span><span class="c1">// previously created with `http.createServer();` from node.js api.</span>

<span class="c1">// create a server first, and then attach</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">eioServer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;engine.io&#39;</span><span class="p">).</span><span class="nx">Server</span><span class="p">();</span>
<span class="nx">eioServer</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">httpServer</span><span class="p">);</span>

<span class="c1">// or call the module as a function to get `Server`</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">eioServer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;engine.io&#39;</span><span class="p">)();</span>
<span class="nx">eioServer</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">httpServer</span><span class="p">);</span>

<span class="c1">// immediately attach</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">eioServer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;engine.io&#39;</span><span class="p">)(</span><span class="nx">httpServer</span><span class="p">);</span>

<span class="c1">// with custom options</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">eioServer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;engine.io&#39;</span><span class="p">)(</span><span class="nx">httpServer</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">maxHttpBufferSize</span><span class="o">:</span><span class="w"> </span><span class="mf">1e3</span>
<span class="p">});</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">listen</span></code></p>
<ul>
<li><p>Creates an <code class="docutils literal notranslate"><span class="pre">http.Server</span></code> which listens on the given port and attaches WS
to it. It returns <code class="docutils literal notranslate"><span class="pre">501</span> <span class="pre">Not</span> <span class="pre">Implemented</span></code> for regular http requests.</p></li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Number</span></code>: port to listen on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: optional, options object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Function</span></code>: callback for <code class="docutils literal notranslate"><span class="pre">listen</span></code>.</p></li>
</ul>
</li>
<li><p><strong>Options</strong></p>
<ul>
<li><p>All options from <code class="docutils literal notranslate"><span class="pre">Server.attach</span></code> method, documented below.</p></li>
<li><p><strong>Additionally</strong> See Server <code class="docutils literal notranslate"><span class="pre">constructor</span></code> below for options you can pass for creating the new Server</p></li>
</ul>
</li>
<li><p><strong>Returns</strong> <code class="docutils literal notranslate"><span class="pre">Server</span></code></p></li>
</ul>
</li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;engine.io&#39;</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mf">3000</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">pingTimeout</span><span class="o">:</span><span class="w"> </span><span class="mf">2000</span><span class="p">,</span>
<span class="w">  </span><span class="nx">pingInterval</span><span class="o">:</span><span class="w"> </span><span class="mf">10000</span>
<span class="p">});</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;connection&#39;</span><span class="p">,</span><span class="w"> </span><span class="cm">/* ... */</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attach</span></code></p>
<ul>
<li><p>Captures <code class="docutils literal notranslate"><span class="pre">upgrade</span></code> requests for a <code class="docutils literal notranslate"><span class="pre">http.Server</span></code>. In other words, makes
a regular http.Server WebSocket-compatible.</p></li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">http.Server</span></code>: server to attach to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: optional, options object</p></li>
</ul>
</li>
<li><p><strong>Options</strong></p>
<ul>
<li><p>All options from <code class="docutils literal notranslate"><span class="pre">Server.attach</span></code> method, documented below.</p></li>
<li><p><strong>Additionally</strong> See Server <code class="docutils literal notranslate"><span class="pre">constructor</span></code> below for options you can pass for creating the new Server</p></li>
</ul>
</li>
<li><p><strong>Returns</strong> <code class="docutils literal notranslate"><span class="pre">Server</span></code> a new Server instance.</p></li>
</ul>
</li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;engine.io&#39;</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">httpServer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">).</span><span class="nx">createServer</span><span class="p">().</span><span class="nx">listen</span><span class="p">(</span><span class="mf">3000</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">httpServer</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">wsEngine</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uws&#39;</span><span class="w"> </span><span class="c1">// requires having uws as dependency</span>
<span class="p">});</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;connection&#39;</span><span class="p">,</span><span class="w"> </span><span class="cm">/* ... */</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="id2">
<h4>Server<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h4>
<p>The main server/manager. <em>Inherits from EventEmitter</em>.</p>
<section id="id3">
<h5>Events<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">connection</span></code></p>
<ul>
<li><p>Fired when a new connection is established.</p></li>
<li><p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Socket</span></code>: a Socket object</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="id4">
<h5>Properties<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h5>
<p><strong>Important</strong>: if you plan to use Engine.IO in a scalable way, please
keep in mind the properties below will only reflect the clients connected
to a single process.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">clients</span></code> <em>(Object)</em>: hash of connected clients by id.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clientsCount</span></code> <em>(Number)</em>: number of connected clients.</p></li>
</ul>
</section>
<section id="id5">
<h5>Methods<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h5>
<ul class="simple">
<li><p><strong>constructor</strong></p>
<ul>
<li><p>Initializes the server</p></li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: optional, options object</p></li>
</ul>
</li>
<li><p><strong>Options</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pingTimeout</span></code> (<code class="docutils literal notranslate"><span class="pre">Number</span></code>): how many ms without a pong packet to
consider the connection closed (<code class="docutils literal notranslate"><span class="pre">5000</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pingInterval</span></code> (<code class="docutils literal notranslate"><span class="pre">Number</span></code>): how many ms before sending a new ping
packet (<code class="docutils literal notranslate"><span class="pre">25000</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">upgradeTimeout</span></code> (<code class="docutils literal notranslate"><span class="pre">Number</span></code>): how many ms before an uncompleted transport upgrade is cancelled (<code class="docutils literal notranslate"><span class="pre">10000</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maxHttpBufferSize</span></code> (<code class="docutils literal notranslate"><span class="pre">Number</span></code>): how many bytes or characters a message
can be, before closing the session (to avoid DoS). Default
value is <code class="docutils literal notranslate"><span class="pre">10E7</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">allowRequest</span></code> (<code class="docutils literal notranslate"><span class="pre">Function</span></code>): A function that receives a given handshake
or upgrade request as its first parameter, and can decide whether to
continue or not. The second argument is a function that needs to be
called with the decided information: <code class="docutils literal notranslate"><span class="pre">fn(err,</span> <span class="pre">success)</span></code>, where
<code class="docutils literal notranslate"><span class="pre">success</span></code> is a boolean value where false means that the request is
rejected, and err is an error code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transports</span></code> (<code class="docutils literal notranslate"><span class="pre">&lt;Array&gt;</span> <span class="pre">String</span></code>): transports to allow connections
to (<code class="docutils literal notranslate"><span class="pre">['polling',</span> <span class="pre">'websocket']</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">allowUpgrades</span></code> (<code class="docutils literal notranslate"><span class="pre">Boolean</span></code>): whether to allow transport upgrades
(<code class="docutils literal notranslate"><span class="pre">true</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">perMessageDeflate</span></code> (<code class="docutils literal notranslate"><span class="pre">Object|Boolean</span></code>): parameters of the WebSocket permessage-deflate extension
(see <a class="reference external" href="https://github.com/einaros/ws">ws module</a> api docs). Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable. (<code class="docutils literal notranslate"><span class="pre">true</span></code>)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">threshold</span></code> (<code class="docutils literal notranslate"><span class="pre">Number</span></code>): data is compressed only if the byte size is above this value (<code class="docutils literal notranslate"><span class="pre">1024</span></code>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">httpCompression</span></code> (<code class="docutils literal notranslate"><span class="pre">Object|Boolean</span></code>): parameters of the http compression for the polling transports
(see <a class="reference external" href="http://nodejs.org/api/zlib.html#zlib_options">zlib</a> api docs). Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable. (<code class="docutils literal notranslate"><span class="pre">true</span></code>)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">threshold</span></code> (<code class="docutils literal notranslate"><span class="pre">Number</span></code>): data is compressed only if the byte size is above this value (<code class="docutils literal notranslate"><span class="pre">1024</span></code>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">cookie</span></code> (<code class="docutils literal notranslate"><span class="pre">String|Boolean</span></code>): name of the HTTP cookie that
contains the client sid to send as part of handshake response
headers. Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> to not send one. (<code class="docutils literal notranslate"><span class="pre">io</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cookiePath</span></code> (<code class="docutils literal notranslate"><span class="pre">String|Boolean</span></code>): path of the above <code class="docutils literal notranslate"><span class="pre">cookie</span></code>
option. If false, no path will be sent, which means browsers will only send the cookie on the engine.io attached path (<code class="docutils literal notranslate"><span class="pre">/engine.io</span></code>).
Set false to not save io cookie on all requests. (<code class="docutils literal notranslate"><span class="pre">/</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cookieHttpOnly</span></code> (<code class="docutils literal notranslate"><span class="pre">Boolean</span></code>): If <code class="docutils literal notranslate"><span class="pre">true</span></code> HttpOnly io cookie cannot be accessed by client-side APIs, such as JavaScript. (<code class="docutils literal notranslate"><span class="pre">true</span></code>) <em>This option has no effect if <code class="docutils literal notranslate"><span class="pre">cookie</span></code> or <code class="docutils literal notranslate"><span class="pre">cookiePath</span></code> is set to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wsEngine</span></code> (<code class="docutils literal notranslate"><span class="pre">String</span></code>): what WebSocket server implementation to use. Specified module must conform to the <code class="docutils literal notranslate"><span class="pre">ws</span></code> interface (see <a class="reference external" href="https://github.com/websockets/ws/blob/master/doc/ws.md">ws module api docs</a>). Default value is <code class="docutils literal notranslate"><span class="pre">ws</span></code>. An alternative c++ addon is also available by installing <code class="docutils literal notranslate"><span class="pre">uws</span></code> module.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">initialPacket</span></code> (<code class="docutils literal notranslate"><span class="pre">Object</span></code>): an optional packet which will be concatenated to the handshake packet emitted by Engine.IO.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">close</span></code></p>
<ul>
<li><p>Closes all clients</p></li>
<li><p><strong>Returns</strong> <code class="docutils literal notranslate"><span class="pre">Server</span></code> for chaining</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">handleRequest</span></code></p>
<ul>
<li><p>Called internally when a <code class="docutils literal notranslate"><span class="pre">Engine</span></code> request is intercepted.</p></li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">http.IncomingMessage</span></code>: a node request object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">http.ServerResponse</span></code>: a node response object</p></li>
</ul>
</li>
<li><p><strong>Returns</strong> <code class="docutils literal notranslate"><span class="pre">Server</span></code> for chaining</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">handleUpgrade</span></code></p>
<ul>
<li><p>Called internally when a <code class="docutils literal notranslate"><span class="pre">Engine</span></code> ws upgrade is intercepted.</p></li>
<li><p><strong>Parameters</strong> (same as <code class="docutils literal notranslate"><span class="pre">upgrade</span></code> event)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">http.IncomingMessage</span></code>: a node request object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">net.Stream</span></code>: TCP socket for the request</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Buffer</span></code>: legacy tail bytes</p></li>
</ul>
</li>
<li><p><strong>Returns</strong> <code class="docutils literal notranslate"><span class="pre">Server</span></code> for chaining</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">attach</span></code></p>
<ul>
<li><p>Attach this Server instance to an <code class="docutils literal notranslate"><span class="pre">http.Server</span></code></p></li>
<li><p>Captures <code class="docutils literal notranslate"><span class="pre">upgrade</span></code> requests for a <code class="docutils literal notranslate"><span class="pre">http.Server</span></code>. In other words, makes
a regular http.Server WebSocket-compatible.</p></li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">http.Server</span></code>: server to attach to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: optional, options object</p></li>
</ul>
</li>
<li><p><strong>Options</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code> (<code class="docutils literal notranslate"><span class="pre">String</span></code>): name of the path to capture (<code class="docutils literal notranslate"><span class="pre">/engine.io</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">destroyUpgrade</span></code> (<code class="docutils literal notranslate"><span class="pre">Boolean</span></code>): destroy unhandled upgrade requests (<code class="docutils literal notranslate"><span class="pre">true</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">destroyUpgradeTimeout</span></code> (<code class="docutils literal notranslate"><span class="pre">Number</span></code>): milliseconds after which unhandled requests are ended (<code class="docutils literal notranslate"><span class="pre">1000</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">handlePreflightRequest</span></code> (<code class="docutils literal notranslate"><span class="pre">Boolean|Function</span></code>): whether to let engine.io handle the OPTIONS requests. You can also pass a custom function to handle the requests (<code class="docutils literal notranslate"><span class="pre">true</span></code>)</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">generateId</span></code></p>
<ul>
<li><p>Generate a socket id.</p></li>
<li><p>Overwrite this method to generate your custom socket id.</p></li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">http.IncomingMessage</span></code>: a node request object</p></li>
</ul>
</li>
<li><p><strong>Returns</strong> A socket id for connected client.</p></li>
</ul>
</li>
</ul>
<hr><br>
</section>
</section>
<section id="socket">
<h4>Socket<a class="headerlink" href="#socket" title="Permalink to this headline">#</a></h4>
<p>A representation of a client. <em>Inherits from EventEmitter</em>.</p>
<section id="id6">
<h5>Events<a class="headerlink" href="#id6" title="Permalink to this headline">#</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">close</span></code></p>
<ul>
<li><p>Fired when the client is disconnected.</p></li>
<li><p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">String</span></code>: reason for closing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: description object (optional)</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code></p>
<ul>
<li><p>Fired when the client sends a message.</p></li>
<li><p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">String</span></code> or <code class="docutils literal notranslate"><span class="pre">Buffer</span></code>: Unicode string or Buffer with binary contents</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">error</span></code></p>
<ul>
<li><p>Fired when an error occurs.</p></li>
<li><p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Error</span></code>: error object</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">flush</span></code></p>
<ul>
<li><p>Called when the write buffer is being flushed.</p></li>
<li><p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Array</span></code>: write buffer</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">drain</span></code></p>
<ul>
<li><p>Called when the write buffer is drained</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">packet</span></code></p>
<ul>
<li><p>Called when a socket received a packet (<code class="docutils literal notranslate"><span class="pre">message</span></code>, <code class="docutils literal notranslate"><span class="pre">ping</span></code>)</p></li>
<li><p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code>: packet type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code>: packet data (if type is message)</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">packetCreate</span></code></p>
<ul>
<li><p>Called before a socket sends a packet (<code class="docutils literal notranslate"><span class="pre">message</span></code>, <code class="docutils literal notranslate"><span class="pre">pong</span></code>)</p></li>
<li><p><strong>Arguments</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code>: packet type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code>: packet data (if type is message)</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="id7">
<h5>Properties<a class="headerlink" href="#id7" title="Permalink to this headline">#</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> <em>(String)</em>: unique identifier</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">server</span></code> <em>(Server)</em>: engine parent reference</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">request</span></code> <em>(http.IncomingMessage)</em>: request that originated the Socket</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">upgraded</span></code> <em>(Boolean)</em>: whether the transport has been upgraded</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">readyState</span></code> <em>(String)</em>: opening|open|closing|closed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transport</span></code> <em>(Transport)</em>: transport reference</p></li>
</ul>
</section>
<section id="id8">
<h5>Methods<a class="headerlink" href="#id8" title="Permalink to this headline">#</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">send</span></code>:</p>
<ul>
<li><p>Sends a message, performing <code class="docutils literal notranslate"><span class="pre">message</span> <span class="pre">=</span> <span class="pre">toString(arguments[0])</span></code> unless
sending binary data, which is sent as is.</p></li>
<li><p><strong>Parameters</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">String</span></code> |Â <code class="docutils literal notranslate"><span class="pre">Buffer</span></code> | <code class="docutils literal notranslate"><span class="pre">ArrayBuffer</span></code> | <code class="docutils literal notranslate"><span class="pre">ArrayBufferView</span></code>: a string or any object implementing <code class="docutils literal notranslate"><span class="pre">toString()</span></code>, with outgoing data, or a Buffer or ArrayBuffer with binary data. Also any ArrayBufferView can be sent as is.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: optional, options object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Function</span></code>: optional, a callback executed when the message gets flushed out by the transport</p></li>
</ul>
</li>
<li><p><strong>Options</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">compress</span></code> (<code class="docutils literal notranslate"><span class="pre">Boolean</span></code>): whether to compress sending data. This option might be ignored and forced to be <code class="docutils literal notranslate"><span class="pre">true</span></code> when using polling. (<code class="docutils literal notranslate"><span class="pre">true</span></code>)</p></li>
</ul>
</li>
<li><p><strong>Returns</strong> <code class="docutils literal notranslate"><span class="pre">Socket</span></code> for chaining</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">close</span></code></p>
<ul>
<li><p>Disconnects the client</p></li>
<li><p><strong>Returns</strong> <code class="docutils literal notranslate"><span class="pre">Socket</span></code> for chaining</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section id="id9">
<h3>Client<a class="headerlink" href="#id9" title="Permalink to this headline">#</a></h3>
<hr><br>
<p>Exposed in the <code class="docutils literal notranslate"><span class="pre">eio</span></code> global namespace (in the browser), or by
<code class="docutils literal notranslate"><span class="pre">require('engine.io-client')</span></code> (in Node.JS).</p>
<p>For the client API refer to the
<a class="reference external" href="http://github.com/learnboost/engine.io-client">engine-client</a> repository.</p>
</section>
</section>
<section id="debug-logging">
<h2>Debug / logging<a class="headerlink" href="#debug-logging" title="Permalink to this headline">#</a></h2>
<p>Engine.IO is powered by <a class="reference external" href="http://github.com/visionmedia/debug">debug</a>.
In order to see all the debug output, run your app with the environment variable
<code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> including the desired scope.</p>
<p>To see the output from all of Engine.IOâ€™s debugging scopes you can use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEBUG</span><span class="o">=</span><span class="n">engine</span><span class="o">*</span> <span class="n">node</span> <span class="n">myapp</span>
</pre></div>
</div>
</section>
<section id="transports">
<h2>Transports<a class="headerlink" href="#transports" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">polling</span></code>: XHR / JSONP polling transport.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">websocket</span></code>: WebSocket transport.</p></li>
</ul>
</section>
<section id="plugins">
<h2>Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/EugenDueck/engine.io-conflation">engine.io-conflation</a>: Makes <strong>conflation and aggregation</strong> of messages straightforward.</p></li>
</ul>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">#</a></h2>
<p>The support channels for <code class="docutils literal notranslate"><span class="pre">engine.io</span></code> are the same as <code class="docutils literal notranslate"><span class="pre">socket.io</span></code>:</p>
<ul class="simple">
<li><p>irc.freenode.net <strong>#socket.io</strong></p></li>
<li><p><a class="reference external" href="http://groups.google.com/group/socket_io">Google Groups</a></p></li>
<li><p><a class="reference external" href="http://socket.io">Website</a></p></li>
</ul>
</section>
<section id="development">
<h2>Development<a class="headerlink" href="#development" title="Permalink to this headline">#</a></h2>
<p>To contribute patches, run tests or benchmarks, make sure to clone the
repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">LearnBoost</span><span class="o">/</span><span class="n">engine</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Then:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">engine</span><span class="o">.</span><span class="n">io</span>
<span class="n">npm</span> <span class="n">install</span>
</pre></div>
</div>
</section>
<section id="tests">
<h2>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">#</a></h2>
<p>Tests run with <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">test</span></code>. It runs the server tests that are aided by
the usage of <code class="docutils literal notranslate"><span class="pre">engine.io-client</span></code>.</p>
<p>Make sure <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span></code> is run first.</p>
</section>
<section id="goals">
<h2>Goals<a class="headerlink" href="#goals" title="Permalink to this headline">#</a></h2>
<p>The main goal of <code class="docutils literal notranslate"><span class="pre">Engine</span></code> is ensuring the most reliable realtime communication.
Unlike the previous Socket.IO core, it always establishes a long-polling
connection first, then tries to upgrade to better transports that are â€œtestedâ€ on
the side.</p>
<p>During the lifetime of the Socket.IO projects, weâ€™ve found countless drawbacks
to relying on <code class="docutils literal notranslate"><span class="pre">HTML5</span> <span class="pre">WebSocket</span></code> or <code class="docutils literal notranslate"><span class="pre">Flash</span> <span class="pre">Socket</span></code> as the first connection
mechanisms.</p>
<p>Both are clearly the <em>right way</em> of establishing a bidirectional communication,
with HTML5 WebSocket being the way of the future. However, to answer most business
needs, alternative traditional HTTP 1.1 mechanisms are just as good as delivering
the same solution.</p>
<p>WebSocket based connections have two fundamental benefits:</p>
<ol class="simple">
<li><p><strong>Better server performance</strong></p></li>
</ol>
<ul class="simple">
<li><p><em>A: Load balancers</em><br>
Load balancing a long polling connection poses a serious architectural nightmare
since requests can come from any number of open sockets by the user agent, but
they all need to be routed to the process and computer that owns the <code class="docutils literal notranslate"><span class="pre">Engine</span></code>
connection. This negatively impacts RAM and CPU usage.</p></li>
<li><p><em>B: Network traffic</em><br>
WebSocket is designed around the premise that each message frame has to be
surrounded by the least amount of data. In HTTP 1.1 transports, each message
frame is surrounded by HTTP headers and chunked encoding frames. If you try to
send the message <em>â€œHello worldâ€</em> with xhr-polling, the message ultimately
becomes larger than if you were to send it with WebSocket.</p></li>
<li><p><em>C: Lightweight parser</em><br>
As an effect of <strong>B</strong>, the server has to do a lot more work to parse the network
data and figure out the message when traditional HTTP requests are used
(as in long polling). This means that another advantage of WebSocket is
less server CPU usage.</p></li>
</ul>
<ol>
<li><p><strong>Better user experience</strong></p>
<p>Due to the reasons stated in point <strong>1</strong>, the most important effect of being able
to establish a WebSocket connection is raw data transfer speed, which translates
in <em>some</em> cases in better user experience.</p>
<p>Applications with heavy realtime interaction (such as games) will benefit greatly,
whereas applications like realtime chat (Gmail/Facebook), newsfeeds (Facebook) or
timelines (Twitter) will have negligible user experience improvements.</p>
</li>
</ol>
<p>Having said this, attempting to establish a WebSocket connection directly so far has
proven problematic:</p>
<ol class="simple">
<li><p><strong>Proxies</strong><br>
Many corporate proxies block WebSocket traffic.</p></li>
<li><p><strong>Personal firewall and antivirus software</strong><br>
As a result of our research, weâ€™ve found that at least 3 personal security
applications block WebSocket traffic.</p></li>
<li><p><strong>Cloud application platforms</strong><br>
Platforms like Heroku or No.de have had trouble keeping up with the fast-paced
nature of the evolution of the WebSocket protocol. Applications therefore end up
inevitably using long polling, but the seamless installation experience of
Socket.IO we strive for (<em>â€œrequire() it and it just worksâ€</em>) disappears.</p></li>
</ol>
<p>Some of these problems have solutions. In the case of proxies and personal programs,
however, the solutions many times involve upgrading software. Experience has shown
that relying on client software upgrades to deliver a business solution is
fruitless: the very existence of this project has to do with a fragmented panorama
of user agent distribution, with clients connecting with latest versions of the most
modern user agents (Chrome, Firefox and Safari), but others with versions as low as
IE 5.5.</p>
<p>From the user perspective, an unsuccessful WebSocket connection can translate in
up to at least 10 seconds of waiting for the realtime application to begin
exchanging data. This <strong>perceptively</strong> hurts user experience.</p>
<p>To summarize, <strong>Engine</strong> focuses on reliability and user experience first, marginal
potential UX improvements and increased server performance second. <code class="docutils literal notranslate"><span class="pre">Engine</span></code> is the
result of all the lessons learned with WebSocket in the wild.</p>
</section>
<section id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">#</a></h2>
<p>The main premise of <code class="docutils literal notranslate"><span class="pre">Engine</span></code>, and the core of its existence, is the ability to
swap transports on the fly. A connection starts as xhr-polling, but it can
switch to WebSocket.</p>
<p>The central problem this poses is: how do we switch transports without losing
messages?</p>
<p><code class="docutils literal notranslate"><span class="pre">Engine</span></code> only switches from polling to another transport in between polling
cycles. Since the server closes the connection after a certain timeout when
thereâ€™s no activity, and the polling transport implementation buffers messages
in between connections, this ensures no message loss and optimal performance.</p>
<p>Another benefit of this design is that we workaround almost all the limitations
of <strong>Flash Socket</strong>, such as slow connection times, increased file size (we can
safely lazy load it without hurting user experience), etc.</p>
</section>
<section id="faq">
<h2>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">#</a></h2>
<section id="can-i-use-engine-without-socket-io">
<h3>Can I use engine without Socket.IO ?<a class="headerlink" href="#can-i-use-engine-without-socket-io" title="Permalink to this headline">#</a></h3>
<p>Absolutely. Although the recommended framework for building realtime applications
is Socket.IO, since it provides fundamental features for real-world applications
such as multiplexing, reconnection support, etc.</p>
<p><code class="docutils literal notranslate"><span class="pre">Engine</span></code> is to Socket.IO what Connect is to Express. An essential piece for building
realtime frameworks, but something you <em>probably</em> wonâ€™t be using for building
actual applications.</p>
</section>
<section id="does-the-server-serve-the-client">
<h3>Does the server serve the client?<a class="headerlink" href="#does-the-server-serve-the-client" title="Permalink to this headline">#</a></h3>
<p>No. The main reason is that <code class="docutils literal notranslate"><span class="pre">Engine</span></code> is meant to be bundled with frameworks.
Socket.IO includes <code class="docutils literal notranslate"><span class="pre">Engine</span></code>, therefore serving two clients is not necessary. If
you use Socket.IO, including</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/socket.io/socket.io.js&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>has you covered.</p>
</section>
<section id="can-i-implement-engine-in-other-languages">
<h3>Can I implement <code class="docutils literal notranslate"><span class="pre">Engine</span></code> in other languages?<a class="headerlink" href="#can-i-implement-engine-in-other-languages" title="Permalink to this headline">#</a></h3>
<p>Absolutely. The <a class="reference external" href="https://github.com/LearnBoost/engine.io-protocol">engine.io-protocol</a>
repository contains the most up to date description of the specification
at all times, and the parser implementation in JavaScript.</p>
</section>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">#</a></h2>
<p>(The MIT License)</p>
<p>Copyright (c) 2014 Guillermo Rauch &lt;guillermo&#64;learnboost.com&gt;</p>
<p>Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
â€˜Softwareâ€™), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:</p>
<p>The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED â€˜AS ISâ€™, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./reveal/node_modules/engine.io"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Mark S. Baldwin<br/>
  
      &copy; Copyright 2023.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>