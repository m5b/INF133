
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Features &#8212; INF 133 Fall 2023</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/logo_stacked.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">INF 133 Fall 2023</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    User Interaction Software
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Assignments
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a0.html">
   Assignment 0
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a1.html">
   Assignment 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a2.html">
   Assignment 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a3.html">
   Assignment 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a4.html">
   Assignment 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../assignments/a5.html">
   Assignment 5
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Weekly Notes
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk1.html">
   Week 1 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk2.html">
   Week 2 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk3.html">
   Week 3 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk4.html">
   Week 4 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk5.html">
   Week 5 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk6.html">
   Week 6 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk7.html">
   Week 7 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk8.html">
   Week 8 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk9.html">
   Week 9 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notes/wk10.html">
   Week 10 Notes
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Course Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../resources.html">
   Resources
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/reveal/node_modules/keyv/README.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Features
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#usage">
   Usage
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#namespaces">
     Namespaces
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#custom-serializers">
     Custom Serializers
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#official-storage-adapters">
   Official Storage Adapters
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#third-party-storage-adapters">
   Third-party Storage Adapters
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#add-cache-support-to-your-module">
   Add Cache Support to your Module
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compression">
   Compression
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#want-to-build-your-own">
     Want to build your own?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api">
   API
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#new-keyv-uri-options">
     new Keyv([uri], [options])
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uri">
     uri
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#options">
     options
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-namespace">
       options.namespace
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-ttl">
       options.ttl
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-compression">
       options.compression
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-serialize">
       options.serialize
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-deserialize">
       options.deserialize
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-store">
       options.store
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-adapter">
       options.adapter
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#instance">
     Instance
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#set-key-value-ttl">
       .set(key, value, [ttl])
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#get-key-options">
       .get(key, [options])
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#options-raw">
         options.raw
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#delete-key">
       .delete(key)
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#clear">
       .clear()
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#iterator">
       .iterator()
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-contribute">
   How to Contribute
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dependencies">
     Dependencies
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setting-up-your-workspace">
     Setting up your workspace
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#launching-the-project">
     Launching the project
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#available-commands">
     Available Commands
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-bootstrap">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         bootstrap
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-test-services-start">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         test:services:start
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-test-services-stop">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         test:services:stop
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-test">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         test
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-clean">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         clean
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#contributing-changes">
     Contributing Changes
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#license">
     License
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Features</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Features
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#usage">
   Usage
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#namespaces">
     Namespaces
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#custom-serializers">
     Custom Serializers
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#official-storage-adapters">
   Official Storage Adapters
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#third-party-storage-adapters">
   Third-party Storage Adapters
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#add-cache-support-to-your-module">
   Add Cache Support to your Module
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compression">
   Compression
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#want-to-build-your-own">
     Want to build your own?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api">
   API
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#new-keyv-uri-options">
     new Keyv([uri], [options])
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uri">
     uri
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#options">
     options
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-namespace">
       options.namespace
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-ttl">
       options.ttl
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-compression">
       options.compression
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-serialize">
       options.serialize
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-deserialize">
       options.deserialize
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-store">
       options.store
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-adapter">
       options.adapter
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#instance">
     Instance
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#set-key-value-ttl">
       .set(key, value, [ttl])
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#get-key-options">
       .get(key, [options])
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#options-raw">
         options.raw
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#delete-key">
       .delete(key)
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#clear">
       .clear()
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#iterator">
       .iterator()
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-contribute">
   How to Contribute
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dependencies">
     Dependencies
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setting-up-your-workspace">
     Setting up your workspace
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#launching-the-project">
     Launching the project
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#available-commands">
     Available Commands
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-bootstrap">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         bootstrap
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-test-services-start">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         test:services:start
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-test-services-stop">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         test:services:stop
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-test">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         test
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#yarn-clean">
       <code class="docutils literal notranslate">
        <span class="pre">
         yarn
        </span>
        <span class="pre">
         clean
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#contributing-changes">
     Contributing Changes
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#license">
     License
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <h1 align="center">
	<img width="250" src="https://jaredwray.com/images/keyv.svg" alt="keyv">
	<br>
	<br>
</h1>
<blockquote>
<div><p>Simple key-value storage with support for multiple backends</p>
</div></blockquote>
<p><a class="reference external" href="https://github.com/jaredwray/keyv/actions/workflows/tests.yaml"><img alt="build" src="https://github.com/jaredwray/keyv/actions/workflows/tests.yaml/badge.svg" /></a>
<a class="reference external" href="https://codecov.io/gh/jaredwray/keyv"><img alt="codecov" src="https://codecov.io/gh/jaredwray/keyv/branch/main/graph/badge.svg?token=bRzR3RyOXZ" /></a>
<a class="reference external" href="https://www.npmjs.com/package/keyv"><img alt="npm" src="https://img.shields.io/npm/dm/keyv.svg" /></a>
<a class="reference external" href="https://www.npmjs.com/package/keyv"><img alt="npm" src="https://img.shields.io/npm/v/keyv.svg" /></a></p>
<p>Keyv provides a consistent interface for key-value storage across multiple backends via storage adapters. It supports TTL based expiry, making it suitable as a cache or a persistent key-value store.</p>
<section id="features">
<h1>Features<a class="headerlink" href="#features" title="Permalink to this headline">#</a></h1>
<p>There are a few existing modules similar to Keyv, however Keyv is different because it:</p>
<ul class="simple">
<li><p>Isn’t bloated</p></li>
<li><p>Has a simple Promise based API</p></li>
<li><p>Suitable as a TTL based cache or persistent key-value store</p></li>
<li><p><a class="reference external" href="#add-cache-support-to-your-module">Easily embeddable</a> inside another module</p></li>
<li><p>Works with any storage that implements the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code class="docutils literal notranslate"><span class="pre">Map</span></code></a> API</p></li>
<li><p>Handles all JSON types plus <code class="docutils literal notranslate"><span class="pre">Buffer</span></code></p></li>
<li><p>Supports namespaces</p></li>
<li><p>Wide range of <a class="reference external" href="#official-storage-adapters"><strong>efficient, well tested</strong></a> storage adapters</p></li>
<li><p>Connection errors are passed through (db failures won’t kill your app)</p></li>
<li><p>Supports the current active LTS version of Node.js or higher</p></li>
</ul>
</section>
<section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">#</a></h1>
<p>Install Keyv.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span> <span class="n">keyv</span>
</pre></div>
</div>
<p>By default everything is stored in memory, you can optionally also install a storage adapter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span> <span class="nd">@keyv</span><span class="o">/</span><span class="n">redis</span>
<span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span> <span class="nd">@keyv</span><span class="o">/</span><span class="n">mongo</span>
<span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span> <span class="nd">@keyv</span><span class="o">/</span><span class="n">sqlite</span>
<span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span> <span class="nd">@keyv</span><span class="o">/</span><span class="n">postgres</span>
<span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span> <span class="nd">@keyv</span><span class="o">/</span><span class="n">mysql</span>
<span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span> <span class="nd">@keyv</span><span class="o">/</span><span class="n">etcd</span>
</pre></div>
</div>
<p>Create a new Keyv instance, passing your connection string if applicable. Keyv will automatically load the correct storage adapter.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">Keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;keyv&#39;</span><span class="p">);</span>

<span class="c1">// One of the following</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">();</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">(</span><span class="s1">&#39;redis://user:pass@localhost:6379&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">(</span><span class="s1">&#39;mongodb://user:pass@localhost:27017/dbname&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">(</span><span class="s1">&#39;sqlite://path/to/database.sqlite&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">(</span><span class="s1">&#39;postgresql://user:pass@localhost:5432/dbname&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">(</span><span class="s1">&#39;mysql://user:pass@localhost:3306/dbname&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">(</span><span class="s1">&#39;etcd://localhost:2379&#39;</span><span class="p">);</span>

<span class="c1">// Handle DB connection errors</span>
<span class="nx">keyv</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Connection Error&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">));</span>

<span class="k">await</span><span class="w"> </span><span class="nx">keyv</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;expires in 1 second&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
<span class="k">await</span><span class="w"> </span><span class="nx">keyv</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;never expires&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
<span class="k">await</span><span class="w"> </span><span class="nx">keyv</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#39;never expires&#39;</span>
<span class="k">await</span><span class="w"> </span><span class="nx">keyv</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
<span class="k">await</span><span class="w"> </span><span class="nx">keyv</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span><span class="w"> </span><span class="c1">// undefined</span>
</pre></div>
</div>
<section id="namespaces">
<h2>Namespaces<a class="headerlink" href="#namespaces" title="Permalink to this headline">#</a></h2>
<p>You can namespace your Keyv instance to avoid key collisions and allow you to clear only a certain namespace while using the same database.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">(</span><span class="s1">&#39;redis://user:pass@localhost:6379&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">namespace</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;users&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">(</span><span class="s1">&#39;redis://user:pass@localhost:6379&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">namespace</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;cache&#39;</span><span class="w"> </span><span class="p">});</span>

<span class="k">await</span><span class="w"> </span><span class="nx">users</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;users&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
<span class="k">await</span><span class="w"> </span><span class="nx">cache</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;cache&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
<span class="k">await</span><span class="w"> </span><span class="nx">users</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#39;users&#39;</span>
<span class="k">await</span><span class="w"> </span><span class="nx">cache</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#39;cache&#39;</span>
<span class="k">await</span><span class="w"> </span><span class="nx">users</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span><span class="w"> </span><span class="c1">// undefined</span>
<span class="k">await</span><span class="w"> </span><span class="nx">users</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// undefined</span>
<span class="k">await</span><span class="w"> </span><span class="nx">cache</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#39;cache&#39;</span>
</pre></div>
</div>
</section>
<section id="custom-serializers">
<h2>Custom Serializers<a class="headerlink" href="#custom-serializers" title="Permalink to this headline">#</a></h2>
<p>Keyv uses <a class="reference external" href="https://github.com/dominictarr/json-buffer"><code class="docutils literal notranslate"><span class="pre">json-buffer</span></code></a> for data serialization to ensure consistency across different backends.</p>
<p>You can optionally provide your own serialization functions to support extra data types or to serialize to something other than JSON.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">({</span><span class="w"> </span><span class="nx">serialize</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">,</span><span class="w"> </span><span class="nx">deserialize</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<p><strong>Warning:</strong> Using custom serializers means you lose any guarantee of data consistency. You should do extensive testing with your serialisation functions and chosen storage engine.</p>
</section>
</section>
<section id="official-storage-adapters">
<h1>Official Storage Adapters<a class="headerlink" href="#official-storage-adapters" title="Permalink to this headline">#</a></h1>
<p>The official storage adapters are covered by <a class="reference external" href="https://github.com/jaredwray/keyv/actions/workflows/tests.yaml">over 150 integration tests</a> to guarantee consistent behaviour. They are lightweight, efficient wrappers over the DB clients making use of indexes and native TTLs where available.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Database</p></th>
<th class="head"><p>Adapter</p></th>
<th class="head"><p>Native TTL</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Redis</p></td>
<td><p><a class="reference external" href="https://github.com/jaredwray/keyv/tree/master/packages/redis">&#64;keyv/redis</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>MongoDB</p></td>
<td><p><a class="reference external" href="https://github.com/jaredwray/keyv/tree/master/packages/mongo">&#64;keyv/mongo</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>SQLite</p></td>
<td><p><a class="reference external" href="https://github.com/jaredwray/keyv/tree/master/packages/sqlite">&#64;keyv/sqlite</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>PostgreSQL</p></td>
<td><p><a class="reference external" href="https://github.com/jaredwray/keyv/tree/master/packages/postgres">&#64;keyv/postgres</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>MySQL</p></td>
<td><p><a class="reference external" href="https://github.com/jaredwray/keyv/tree/master/packages/mysql">&#64;keyv/mysql</a></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>Etcd</p></td>
<td><p><a class="reference external" href="https://github.com/jaredwray/keyv/tree/master/packages/etcd">&#64;keyv/etcd</a></p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Memcache</p></td>
<td><p><a class="reference external" href="https://github.com/jaredwray/keyv/tree/master/packages/memcache">&#64;keyv/memcache</a></p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
</section>
<section id="third-party-storage-adapters">
<h1>Third-party Storage Adapters<a class="headerlink" href="#third-party-storage-adapters" title="Permalink to this headline">#</a></h1>
<p>You can also use third-party storage adapters or build your own. Keyv will wrap these storage adapters in TTL functionality and handle complex types internally.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">Keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;keyv&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myAdapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./my-storage-adapter&#39;</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">({</span><span class="w"> </span><span class="nx">store</span><span class="o">:</span><span class="w"> </span><span class="nx">myAdapter</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<p>Any store that follows the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code class="docutils literal notranslate"><span class="pre">Map</span></code></a> api will work.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">({</span><span class="w"> </span><span class="nx">store</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">()</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<p>For example, <a class="reference external" href="https://github.com/sindresorhus/quick-lru"><code class="docutils literal notranslate"><span class="pre">quick-lru</span></code></a> is a completely unrelated module that implements the Map API.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">Keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;keyv&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">QuickLRU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;quick-lru&#39;</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">lru</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">QuickLRU</span><span class="p">({</span><span class="w"> </span><span class="nx">maxSize</span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="w"> </span><span class="p">});</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">({</span><span class="w"> </span><span class="nx">store</span><span class="o">:</span><span class="w"> </span><span class="nx">lru</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<p>The following are third-party storage adapters compatible with Keyv:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/sindresorhus/quick-lru">quick-lru</a> - Simple “Least Recently Used” (LRU) cache</p></li>
<li><p><a class="reference external" href="https://github.com/zaaack/keyv-file">keyv-file</a> - File system storage adapter for Keyv</p></li>
<li><p><a class="reference external" href="https://www.npmjs.com/package/keyv-dynamodb">keyv-dynamodb</a> - DynamoDB storage adapter for Keyv</p></li>
<li><p><a class="reference external" href="https://www.npmjs.com/package/keyv-lru">keyv-lru</a> - LRU storage adapter for Keyv</p></li>
<li><p><a class="reference external" href="https://www.npmjs.com/package/keyv-null">keyv-null</a> - Null storage adapter for Keyv</p></li>
<li><p><a class="reference external" href="https://github.com/goto-bus-stop/keyv-firestore">keyv-firestore </a> – Firebase Cloud Firestore adapter for Keyv</p></li>
<li><p><a class="reference external" href="https://github.com/pmorgan3/keyv-mssql">keyv-mssql</a> - Microsoft Sql Server adapter for Keyv</p></li>
<li><p><a class="reference external" href="https://github.com/howlowck/keyv-azuretable">keyv-azuretable</a> - Azure Table Storage/API adapter for Keyv</p></li>
<li><p><a class="reference external" href="https://github.com/TimMikeladze/keyv-arango">keyv-arango</a> - ArangoDB storage adapter for Keyv</p></li>
<li><p><a class="reference external" href="https://github.com/momentohq/node-keyv-adaptor/">keyv-momento</a> - Momento storage adapter for Keyv</p></li>
</ul>
</section>
<section id="add-cache-support-to-your-module">
<h1>Add Cache Support to your Module<a class="headerlink" href="#add-cache-support-to-your-module" title="Permalink to this headline">#</a></h1>
<p>Keyv is designed to be easily embedded into other modules to add cache support. The recommended pattern is to expose a <code class="docutils literal notranslate"><span class="pre">cache</span></code> option in your modules options which is passed through to Keyv. Caching will work in memory by default and users have the option to also install a Keyv storage adapter and pass in a connection string, or any other storage that implements the <code class="docutils literal notranslate"><span class="pre">Map</span></code> API.</p>
<p>You should also set a namespace for your module so you can safely call <code class="docutils literal notranslate"><span class="pre">.clear()</span></code> without clearing unrelated app data.</p>
<p>Inside your module:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nx">AwesomeModule</span><span class="w"> </span><span class="p">{</span>
<span class="w">	</span><span class="kr">constructor</span><span class="p">(</span><span class="nx">opts</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">		</span><span class="k">this</span><span class="p">.</span><span class="nx">cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">({</span>
<span class="w">			</span><span class="nx">uri</span><span class="o">:</span><span class="w"> </span><span class="ow">typeof</span><span class="w"> </span><span class="nx">opts</span><span class="p">.</span><span class="nx">cache</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">opts</span><span class="p">.</span><span class="nx">cache</span><span class="p">,</span>
<span class="w">			</span><span class="nx">store</span><span class="o">:</span><span class="w"> </span><span class="ow">typeof</span><span class="w"> </span><span class="nx">opts</span><span class="p">.</span><span class="nx">cache</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">opts</span><span class="p">.</span><span class="nx">cache</span><span class="p">,</span>
<span class="w">			</span><span class="nx">namespace</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;awesome-module&#39;</span>
<span class="w">		</span><span class="p">});</span>
<span class="w">	</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now it can be consumed like this:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">AwesomeModule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;awesome-module&#39;</span><span class="p">);</span>

<span class="c1">// Caches stuff in memory by default</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">awesomeModule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">AwesomeModule</span><span class="p">();</span>

<span class="c1">// After npm install --save keyv-redis</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">awesomeModule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">AwesomeModule</span><span class="p">({</span><span class="w"> </span><span class="nx">cache</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;redis://localhost&#39;</span><span class="w"> </span><span class="p">});</span>

<span class="c1">// Some third-party module that implements the Map API</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">awesomeModule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">AwesomeModule</span><span class="p">({</span><span class="w"> </span><span class="nx">cache</span><span class="o">:</span><span class="w"> </span><span class="nx">some3rdPartyStore</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
</section>
<section id="compression">
<h1>Compression<a class="headerlink" href="#compression" title="Permalink to this headline">#</a></h1>
<p>Keyv supports <code class="docutils literal notranslate"><span class="pre">gzip</span></code> and <code class="docutils literal notranslate"><span class="pre">brotli</span></code> compression. To enable compression, pass the <code class="docutils literal notranslate"><span class="pre">compress</span></code> option to the constructor.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">KeyvGzip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@keyv/compress-gzip&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">Keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;keyv&#39;</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">keyvGzip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">KeyvGzip</span><span class="p">();</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyv</span><span class="p">({</span><span class="w"> </span><span class="nx">compression</span><span class="o">:</span><span class="w"> </span><span class="nx">KeyvGzip</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<p>You can also pass a custom compression function to the <code class="docutils literal notranslate"><span class="pre">compression</span></code> option. Following the pattern of the official compression adapters.</p>
<section id="want-to-build-your-own">
<h2>Want to build your own?<a class="headerlink" href="#want-to-build-your-own" title="Permalink to this headline">#</a></h2>
<p>Great! Keyv is designed to be easily extended. You can build your own compression adapter by following the pattern of the official compression adapters based on this interface:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span><span class="w"> </span><span class="nx">CompressionAdapter</span><span class="w"> </span><span class="p">{</span>
<span class="w">	</span><span class="k">async</span><span class="w"> </span><span class="nx">compress</span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">,</span><span class="w"> </span><span class="nx">options?</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">);</span>
<span class="w">	</span><span class="k">async</span><span class="w"> </span><span class="nx">decompress</span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">,</span><span class="w"> </span><span class="nx">options?</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">);</span>
<span class="w">	</span><span class="k">async</span><span class="w"> </span><span class="nx">serialize</span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">);</span>
<span class="w">	</span><span class="k">async</span><span class="w"> </span><span class="nx">deserialize</span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In addition to the interface, you can test it with our compression test suite using &#64;keyv/test-suite:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="nx">keyvCompresstionTests</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@keyv/test-suite&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">KeyvGzip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@keyv/compress-gzip&#39;</span><span class="p">);</span>

<span class="nx">keyvCompresstionTests</span><span class="p">(</span><span class="nx">test</span><span class="p">,</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">KeyvGzip</span><span class="p">());</span>
</pre></div>
</div>
</section>
</section>
<section id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">#</a></h1>
<section id="new-keyv-uri-options">
<h2>new Keyv([uri], [options])<a class="headerlink" href="#new-keyv-uri-options" title="Permalink to this headline">#</a></h2>
<p>Returns a new Keyv instance.</p>
<p>The Keyv instance is also an <code class="docutils literal notranslate"><span class="pre">EventEmitter</span></code> that will emit an <code class="docutils literal notranslate"><span class="pre">'error'</span></code> event if the storage adapter connection fails.</p>
</section>
<section id="uri">
<h2>uri<a class="headerlink" href="#uri" title="Permalink to this headline">#</a></h2>
<p>Type: <code class="docutils literal notranslate"><span class="pre">String</span></code><br>
Default: <code class="docutils literal notranslate"><span class="pre">undefined</span></code></p>
<p>The connection string URI.</p>
<p>Merged into the options object as options.uri.</p>
</section>
<section id="options">
<h2>options<a class="headerlink" href="#options" title="Permalink to this headline">#</a></h2>
<p>Type: <code class="docutils literal notranslate"><span class="pre">Object</span></code></p>
<p>The options object is also passed through to the storage adapter. Check your storage adapter docs for any extra options.</p>
<section id="options-namespace">
<h3>options.namespace<a class="headerlink" href="#options-namespace" title="Permalink to this headline">#</a></h3>
<p>Type: <code class="docutils literal notranslate"><span class="pre">String</span></code><br>
Default: <code class="docutils literal notranslate"><span class="pre">'keyv'</span></code></p>
<p>Namespace for the current instance.</p>
</section>
<section id="options-ttl">
<h3>options.ttl<a class="headerlink" href="#options-ttl" title="Permalink to this headline">#</a></h3>
<p>Type: <code class="docutils literal notranslate"><span class="pre">Number</span></code><br>
Default: <code class="docutils literal notranslate"><span class="pre">undefined</span></code></p>
<p>Default TTL. Can be overridden by specififying a TTL on <code class="docutils literal notranslate"><span class="pre">.set()</span></code>.</p>
</section>
<section id="options-compression">
<h3>options.compression<a class="headerlink" href="#options-compression" title="Permalink to this headline">#</a></h3>
<p>Type: <code class="docutils literal notranslate"><span class="pre">&#64;keyv/compress-&lt;compression_package_name&gt;</span></code><br>
Default: <code class="docutils literal notranslate"><span class="pre">undefined</span></code></p>
<p>Compression package to use. See <a class="reference external" href="#compression">Compression</a> for more details.</p>
</section>
<section id="options-serialize">
<h3>options.serialize<a class="headerlink" href="#options-serialize" title="Permalink to this headline">#</a></h3>
<p>Type: <code class="docutils literal notranslate"><span class="pre">Function</span></code><br>
Default: <code class="docutils literal notranslate"><span class="pre">JSONB.stringify</span></code></p>
<p>A custom serialization function.</p>
</section>
<section id="options-deserialize">
<h3>options.deserialize<a class="headerlink" href="#options-deserialize" title="Permalink to this headline">#</a></h3>
<p>Type: <code class="docutils literal notranslate"><span class="pre">Function</span></code><br>
Default: <code class="docutils literal notranslate"><span class="pre">JSONB.parse</span></code></p>
<p>A custom deserialization function.</p>
</section>
<section id="options-store">
<h3>options.store<a class="headerlink" href="#options-store" title="Permalink to this headline">#</a></h3>
<p>Type: <code class="docutils literal notranslate"><span class="pre">Storage</span> <span class="pre">adapter</span> <span class="pre">instance</span></code><br>
Default: <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">Map()</span></code></p>
<p>The storage adapter instance to be used by Keyv.</p>
</section>
<section id="options-adapter">
<h3>options.adapter<a class="headerlink" href="#options-adapter" title="Permalink to this headline">#</a></h3>
<p>Type: <code class="docutils literal notranslate"><span class="pre">String</span></code><br>
Default: <code class="docutils literal notranslate"><span class="pre">undefined</span></code></p>
<p>Specify an adapter to use. e.g <code class="docutils literal notranslate"><span class="pre">'redis'</span></code> or <code class="docutils literal notranslate"><span class="pre">'mongodb'</span></code>.</p>
</section>
</section>
<section id="instance">
<h2>Instance<a class="headerlink" href="#instance" title="Permalink to this headline">#</a></h2>
<p>Keys must always be strings. Values can be of any type.</p>
<section id="set-key-value-ttl">
<h3>.set(key, value, [ttl])<a class="headerlink" href="#set-key-value-ttl" title="Permalink to this headline">#</a></h3>
<p>Set a value.</p>
<p>By default keys are persistent. You can set an expiry TTL in milliseconds.</p>
<p>Returns a promise which resolves to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="get-key-options">
<h3>.get(key, [options])<a class="headerlink" href="#get-key-options" title="Permalink to this headline">#</a></h3>
<p>Returns a promise which resolves to the retrieved value.</p>
<section id="options-raw">
<h4>options.raw<a class="headerlink" href="#options-raw" title="Permalink to this headline">#</a></h4>
<p>Type: <code class="docutils literal notranslate"><span class="pre">Boolean</span></code><br>
Default: <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
<p>If set to true the raw DB object Keyv stores internally will be returned instead of just the value.</p>
<p>This contains the TTL timestamp.</p>
</section>
</section>
<section id="delete-key">
<h3>.delete(key)<a class="headerlink" href="#delete-key" title="Permalink to this headline">#</a></h3>
<p>Deletes an entry.</p>
<p>Returns a promise which resolves to <code class="docutils literal notranslate"><span class="pre">true</span></code> if the key existed, <code class="docutils literal notranslate"><span class="pre">false</span></code> if not.</p>
</section>
<section id="clear">
<h3>.clear()<a class="headerlink" href="#clear" title="Permalink to this headline">#</a></h3>
<p>Delete all entries in the current namespace.</p>
<p>Returns a promise which is resolved when the entries have been cleared.</p>
</section>
<section id="iterator">
<h3>.iterator()<a class="headerlink" href="#iterator" title="Permalink to this headline">#</a></h3>
<p>Iterate over all entries of the current namespace.</p>
<p>Returns a iterable that can be iterated by for-of loops. For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// please note that the &quot;await&quot; keyword should be used here</span>
<span class="k">for</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">]</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">keyv</span><span class="p">.</span><span class="nx">iterator</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="how-to-contribute">
<h1>How to Contribute<a class="headerlink" href="#how-to-contribute" title="Permalink to this headline">#</a></h1>
<p>In this section of the documentation we will cover:</p>
<ol class="simple">
<li><p>How to set up this repository locally</p></li>
<li><p>How to get started with running commands</p></li>
<li><p>How to contribute changes using Pull Requests</p></li>
</ol>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">#</a></h2>
<p>This package requires the following dependencies to run:</p>
<ol class="simple">
<li><p><a class="reference external" href="https://yarnpkg.com/getting-started/install">Yarn V1</a></p></li>
<li><p><a class="reference external" href="https://docs.docker.com/get-docker/">Docker</a></p></li>
</ol>
</section>
<section id="setting-up-your-workspace">
<h2>Setting up your workspace<a class="headerlink" href="#setting-up-your-workspace" title="Permalink to this headline">#</a></h2>
<p>To contribute to this repository, start by setting up this project locally:</p>
<ol class="simple">
<li><p>Fork this repository into your Git account</p></li>
<li><p>Clone the forked repository to your local directory using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code></p></li>
<li><p>Install any of the above missing dependencies</p></li>
</ol>
</section>
<section id="launching-the-project">
<h2>Launching the project<a class="headerlink" href="#launching-the-project" title="Permalink to this headline">#</a></h2>
<p>Once the project is installed locally, you are ready to start up its services:</p>
<ol class="simple">
<li><p>Ensure that your Docker service is running.</p></li>
<li><p>From the root directory of your project, run the <code class="docutils literal notranslate"><span class="pre">yarn</span></code> command in the command prompt to install yarn.</p></li>
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">bootstrap</span></code> command to  install any necessary dependencies.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">test:services:start</span></code> to start up this project’s Docker container. The container will launch all services within your workspace.</p></li>
</ol>
</section>
<section id="available-commands">
<h2>Available Commands<a class="headerlink" href="#available-commands" title="Permalink to this headline">#</a></h2>
<p>Once the project is running, you can execute a variety of commands. The root workspace and each subpackage contain a <code class="docutils literal notranslate"><span class="pre">package.json</span></code> file with a  <code class="docutils literal notranslate"><span class="pre">scripts</span></code> field listing all the commands that can be executed from that directory. This project also supports native <code class="docutils literal notranslate"><span class="pre">yarn</span></code>, and <code class="docutils literal notranslate"><span class="pre">docker</span></code> commands.</p>
<p>Here, we’ll cover the primary commands that can be executed from the root directory. Unless otherwise noted, these commands can also be executed from a subpackage. If executed from a subpackage, they will only affect that subpackage, rather than the entire workspace.</p>
<section id="yarn">
<h3><code class="docutils literal notranslate"><span class="pre">yarn</span></code><a class="headerlink" href="#yarn" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">yarn</span></code> command installs yarn in the workspace.</p>
</section>
<section id="yarn-bootstrap">
<h3><code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">bootstrap</span></code><a class="headerlink" href="#yarn-bootstrap" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">bootstrap</span></code> command installs all dependencies in the workspace.</p>
</section>
<section id="yarn-test-services-start">
<h3><code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">test:services:start</span></code><a class="headerlink" href="#yarn-test-services-start" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">test:services:start</span></code> command starts up the project’s Docker container, launching all services in the workspace. This command must be executed from the root directory.</p>
</section>
<section id="yarn-test-services-stop">
<h3><code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">test:services:stop</span></code><a class="headerlink" href="#yarn-test-services-stop" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">test:services:stop</span></code> command brings down the project’s Docker container, halting all services. This command must be executed from the root directory.</p>
</section>
<section id="yarn-test">
<h3><code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">test</span></code><a class="headerlink" href="#yarn-test" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">test</span></code> command runs all tests in the workspace.</p>
</section>
<section id="yarn-clean">
<h3><code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">clean</span></code><a class="headerlink" href="#yarn-clean" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">clean</span></code> command removes yarn and all dependencies installed by yarn. After executing this command, you must repeat the steps in <em>Setting up your workspace</em> to rebuild your workspace.</p>
</section>
</section>
<section id="contributing-changes">
<h2>Contributing Changes<a class="headerlink" href="#contributing-changes" title="Permalink to this headline">#</a></h2>
<p>Now that you’ve set up your workspace, you’re ready to contribute changes to the <code class="docutils literal notranslate"><span class="pre">keyv</span></code> repository.</p>
<ol class="simple">
<li><p>Make any changes that you would like to contribute in your local workspace.</p></li>
<li><p>After making these changes, ensure that the project’s tests still pass by executing the <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">test</span></code> command in the root directory.</p></li>
<li><p>Commit your changes and push them to your forked repository.</p></li>
<li><p>Navigate to the original <code class="docutils literal notranslate"><span class="pre">keyv</span></code> repository and go the <em>Pull Requests</em> tab.</p></li>
<li><p>Click the <em>New pull request</em> button, and open a pull request for the branch in your repository that contains your changes.</p></li>
<li><p>Once your pull request is created, ensure that all checks have passed and that your branch has no conflicts with the base branch. If there are any issues, resolve these changes in your local repository, and then commit and push them to git.</p></li>
<li><p>Similarly, respond to any reviewer comments or requests for changes by making edits to your local repository and pushing them to Git.</p></li>
<li><p>Once the pull request has been reviewed, those with write access to the branch will be able to merge your changes into the <code class="docutils literal notranslate"><span class="pre">keyv</span></code> repository.</p></li>
</ol>
<p>If you need more information on the steps to create a pull request, you can find a detailed walkthrough in the <a class="reference external" href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request-from-a-fork">Github documentation</a></p>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">#</a></h2>
<p>MIT © Jared Wray</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./reveal/node_modules/keyv"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Mark S. Baldwin<br/>
  
      &copy; Copyright 2023.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>